<!DOCTYPE html>
<html>
<head>
    <title>R2 å›¾ç‰‡ç›´é“¾æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .test-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .test-item { 
            background: white; 
            border: 2px solid #ddd; 
            padding: 15px; 
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-item h3 { margin: 0 0 10px 0; color: #333; }
        .test-item img { 
            max-width: 100%; 
            height: auto; 
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .error { color: red; font-weight: bold; }
        .success { color: green; font-weight: bold; }
        .loading { color: orange; font-weight: bold; }
        .url-display { 
            font-size: 12px; 
            color: #666; 
            word-break: break-all;
            margin: 10px 0;
            background: #f8f8f8;
            padding: 8px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” R2 å­˜å‚¨æ¡¶å›¾ç‰‡ç›´é“¾æµ‹è¯•</h1>
    <p><strong>æµ‹è¯•ç›®çš„ï¼š</strong>éªŒè¯åœ¨ä¸ç¿»å¢™ç¯å¢ƒä¸‹èƒ½å¦æ­£å¸¸è®¿é—® R2 å­˜å‚¨æ¡¶çš„å›¾ç‰‡</p>
    
    <div id="results" class="test-grid"></div>

    <script>
        // ä»é™æ€æ•°æ®ä¸­æå–çš„R2 URL
        const testImages = [
            {
                name: "Japanese Anime Style",
                url: "https://images.aimagica.ai/gallery/105948948301872216168/1750949808349_Japanese_Anime_Style.png"
            },
            {
                name: "Cyberpunk City",
                url: "https://images.aimagica.ai/gallery/105948948301872216168/1750862975446_A_cyberpunk_city_with_neon_lig.jpeg"
            },
            {
                name: "Peaceful Zen Garden",
                url: "https://images.aimagica.ai/gallery/105948948301872216168/1750861881556_A_peaceful_zen_garden_with_che.jpeg"
            },
            {
                name: "Digital Art (TempFile)",
                url: "https://tempfile.aiquickdraw.com/v/68f5527672694583a3f90d9dbaec819f_0_1750696712.png"
            }
        ];

        function createTestItem(test) {
            const div = document.createElement('div');
            div.className = 'test-item';
            
            const title = document.createElement('h3');
            title.textContent = test.name;
            div.appendChild(title);
            
            const urlDiv = document.createElement('div');
            urlDiv.className = 'url-display';
            urlDiv.textContent = test.url;
            div.appendChild(urlDiv);
            
            const img = document.createElement('img');
            img.alt = test.name;
            
            const status = document.createElement('div');
            status.textContent = 'â³ åŠ è½½ä¸­...';
            status.className = 'loading';
            
            const startTime = Date.now();
            
            img.onload = () => {
                const loadTime = Date.now() - startTime;
                status.textContent = `âœ… åŠ è½½æˆåŠŸ (${loadTime}ms)`;
                status.className = 'success';
                img.src = test.url; // ç¡®ä¿æ˜¾ç¤º
            };
            
            img.onerror = () => {
                const loadTime = Date.now() - startTime;
                status.textContent = `âŒ åŠ è½½å¤±è´¥ (${loadTime}ms) - å¯èƒ½è¢«å¢™æˆ–é“¾æ¥å¤±æ•ˆ`;
                status.className = 'error';
                img.style.display = 'none';
            };
            
            // å¼€å§‹åŠ è½½
            img.src = test.url;
            
            div.appendChild(img);
            div.appendChild(status);
            
            return div;
        }

        const resultsDiv = document.getElementById('results');
        
        testImages.forEach(test => {
            resultsDiv.appendChild(createTestItem(test));
        });

        // æ·»åŠ ç½‘ç»œç¯å¢ƒä¿¡æ¯
        const networkInfo = document.createElement('div');
        networkInfo.style.cssText = 'margin-top: 30px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #007acc;';
        networkInfo.innerHTML = `
            <h2>ğŸŒ ç½‘ç»œç¯å¢ƒä¿¡æ¯</h2>
            <p><strong>å½“å‰åŸŸå:</strong> ${window.location.hostname}</p>
            <p><strong>å½“å‰åè®®:</strong> ${window.location.protocol}</p>
            <p><strong>ç”¨æˆ·ä»£ç†:</strong> ${navigator.userAgent}</p>
            <p><strong>æµ‹è¯•æ—¶é—´:</strong> ${new Date().toLocaleString()}</p>
        `;
        document.body.appendChild(networkInfo);
    </script>
</body>
</html>